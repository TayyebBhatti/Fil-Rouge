{% extends 'base.html.twig' %}
{% block title %}Inscription{% endblock %}

{% block stylesheets %}
<style>
  :root {
    --bg:#f6f8fb;
    --card:#ffffff;
    --text:#111827;
    --muted:#6b7280;
    --primary:#2563eb;
    --primary-hover:#1d4ed8;
    --border:#e5e7eb;
    --danger:#b91c1c;
    --success:#065f46;
  }
  * { box-sizing:border-box; }
  body { margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif; background:var(--bg); color:var(--text); }
  .auth-wrap { min-height:100dvh; display:grid; place-items:center; padding:24px; }
  .card { width:100%; max-width:440px; background:var(--card); border:1px solid var(--border); border-radius:12px; padding:24px; }
  h2 { margin:0 0 16px; font-size:22px; }
  form { display:grid; gap:16px; }
  .grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
  .grid .full { grid-column:1 / -1; }
  label { display:block; font-size:14px; margin-bottom:6px; color:var(--muted); }
  input[type="text"], input[type="email"], input[type="password"] {
    width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:8px; background:#fff; font-size:14px;
  }
  input:focus { outline:none; border-color:var(--primary); box-shadow:0 0 0 3px rgba(37,99,235,.15); }
  .btn {
    display:inline-block; width:100%; padding:10px 14px; font-weight:600; text-align:center;
    color:#fff; background:var(--primary); border:0; border-radius:8px; cursor:pointer;
  }
  .btn:hover { background:var(--primary-hover); }
  .muted { color:var(--muted); font-size:14px; text-align:center; }
  .muted a { color:var(--primary); text-decoration:none; }
  .muted a:hover { text-decoration:underline; }
  .alert { padding:10px 12px; border-radius:8px; font-size:14px; border:1px solid; }
  .alert-error { color:var(--danger); background:rgba(185,28,28,.06); border-color:rgba(185,28,28,.3); }
  .alert-success { color:var(--success); background:rgba(6,95,70,.06); border-color:rgba(6,95,70,.3); }
  @media (max-width:520px){ .grid { grid-template-columns:1fr; } }
</style>
{% endblock %}

{% block body %}
<div class="auth-wrap">
  <div class="card">
    <h2>Créer un compte</h2>

    {% for m in app.flashes('error') %}
      <div class="alert alert-error">{{ m }}</div>
    {% endfor %}
    {% for m in app.flashes('success') %}
      <div class="alert alert-success">{{ m }}</div>
    {% endfor %}

    <form method="post" action="{{ path('default_inscription') }}">
      <input type="hidden" name="_csrf_token" value="{{ csrf_token('register') }}"/>

      <div class="grid">
        <div>
          <label for="nom">Nom</label>
          <input id="nom" name="nom" type="text" value="{{ old.nom|default('') }}" required>
        </div>
        <div>
          <label for="prenom">Prénom</label>
          <input id="prenom" name="prenom" type="text" value="{{ old.prenom|default('') }}" required>
        </div>
        <div class="full">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" value="{{ old.email|default('') }}" required>
        </div>
        <div class="full">
          <label for="password">Mot de passe</label>
          <input id="password" name="password" type="password" required>
        </div>
      </div>

      <button class="btn" type="submit">S'inscrire</button>

      <p class="muted">Déjà un compte ?
        <a href="{{ path('default_login') }}">Se connecter</a>
      </p>
    </form>
  </div>
</div>
{% endblock %}
