{% extends 'base.html.twig' %}
{% block title %}Modifier un événement{% endblock %}
{% block body %}
  <h1>Modifier un événement</h1>

  {{ form_start(form) }}
    <div style="display:grid;grid-template-columns:1fr;gap:14px;max-width:720px;">
      {{ form_row(form.titre) }}
      {{ form_row(form.description) }}
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        {{ form_row(form.dateDebut) }}
        {{ form_row(form.dateFin) }}
      </div>
      {{ form_row(form.capaciteMax) }}
      {{ form_row(form.categorie) }}

      <fieldset style="border:1px solid #e5e7eb;border-radius:10px;padding:12px;">
        <legend style="padding:0 6px;color:#374151;">Lieu</legend>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          {{ form_row(form.lieu.rue) }}
          {{ form_row(form.lieu.codePostal) }}
          {{ form_row(form.lieu.ville) }}
          {{ form_row(form.lieu.pays) }}
        </div>

        <datalist id="dl-rue">
          {% for v in rues %}<option value="{{ v }}">{% endfor %}
        </datalist>
        <datalist id="dl-code">
          {% for v in codes %}<option value="{{ v }}">{% endfor %}
        </datalist>
        <datalist id="dl-ville">
          {% for v in villes %}<option value="{{ v }}">{% endfor %}
        </datalist>
        <datalist id="dl-pays">
          {% for v in pays %}<option value="{{ v }}">{% endfor %}
        </datalist>

        <p style="margin-top:6px;color:#6b7280;font-size:0.9rem;">
          Saisis librement. Les valeurs existantes sont proposées automatiquement.
        </p>
      </fieldset>

      {{ form_row(form.image) }}
    </div>

    <button type="submit"
            style="padding:10px 16px;margin-top:14px;border:1px solid #0ea5e9;border-radius:8px;background:#0ea5e9;color:white;">
      Mettre à jour
    </button>
  {{ form_end(form) }}

  <a href="{{ path('admin_evenement_index') }}" style="display:inline-block;margin-top:15px;text-decoration:none;color:#075985;">
    ← Retour à la liste
  </a>
{% endblock %}
